(this["webpackJsonpjim-framed"]=this["webpackJsonpjim-framed"]||[]).push([[0],{90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var c,r=n(4),a=n(0),s=n(11),i=n(2),o=n.n(i),l=n(17),u=n.n(l),h=n(101),d=n(21),j=n.n(d),b=n(36),f=n(5),m=n(14),p=n(6),O=n.n(p),g=function(){return Object(a.jsxs)("div",{className:"sort-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286 C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813 c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424 C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428 s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},x=function(){return Object(a.jsxs)("div",{className:"sort-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#aaa",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,197.286L159.028,69.379c-3.613-3.617-7.895-5.424-12.847-5.424s-9.233,1.807-12.85,5.424L5.424,197.286 C1.807,200.9,0,205.184,0,210.132s1.807,9.233,5.424,12.847c3.621,3.617,7.902,5.428,12.85,5.428h255.813 c4.949,0,9.233-1.811,12.848-5.428c3.613-3.613,5.427-7.898,5.427-12.847S290.548,200.9,286.935,197.286z"})})}),Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 292 292",fill:"#fff",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424 C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428 s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z"})})})]})},v=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 2048 2048",fill:"#9A9A9A",children:[Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M892.3,688v242h539v247.2h-539v411.9H609.1v-1150h889.1V688H892.3z"})})}),Object(a.jsx)("path",{d:"M143.6,138.5v1760.9h1760.9V138.5H143.6z M1783.8,1778.7H264.2V259.2h1519.6V1778.7z"})]})},w=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 80 80",width:"40",height:"30",fill:"#fff",children:[Object(a.jsx)("rect",{y:"15",width:"80",height:"10"}),Object(a.jsx)("rect",{y:"35",width:"80",height:"10"}),Object(a.jsx)("rect",{y:"55",width:"80",height:"10"})]})},y=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:[Object(a.jsx)("polygon",{points:"68.284,40 165,40 165,0 0,0 0,165 40,165 40,68.284 177,205.284 205.284,177"}),Object(a.jsx)("polygon",{points:"205.284,335 177,306.716 40,443.716 40,347 0,347 0,512 165,512 165,472 68.284,472"}),Object(a.jsx)("polygon",{points:"347,0 347,40 443.716,40 306.716,177 335,205.284 472,68.284 472,165 512,165 512,0"}),Object(a.jsx)("polygon",{points:"472,347 472,443.716 335,306.716 306.716,335 443.716,472 347,472 347,512 512,512 512,347"})]})},k=function(e){var t=e.className;return Object(a.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M21 4.41L19.59 3 12 10.59 4.41 3 3 4.41 10.59 12 3 19.59 4.41 21 12 13.41 19.59 21 21 19.59 13.41 12 21 4.41z"})})},C=function(){return Object(a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",children:[Object(a.jsx)("polygon",{points:"22.586,25.414 29.172,32 32,29.172 25.414,22.586 28,20 20,20 20,28"}),Object(a.jsx)("polygon",{points:"6.547,9.371 4,12 11.961,11.957 12,4 9.375,6.543 2.828,0 0,2.828"}),Object(a.jsx)("polygon",{points:"0,29.172 2.828,32 9.414,25.414 12,28 12,20 4,20 6.586,22.586"}),Object(a.jsx)("polygon",{points:"28.031,12 25.438,9.404 32,2.838 29.164,0 22.598,6.566 20,3.971 20,12"})]})},N=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 97.75 97.75",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M48.875,0C21.883,0,0,21.882,0,48.875S21.883,97.75,48.875,97.75S97.75,75.868,97.75,48.875S75.867,0,48.875,0z M28.277,66.361c-8.895,0-16.105-7.828-16.105-17.486s7.211-17.487,16.105-17.487s16.106,7.829,16.106,17.487 S37.172,66.361,28.277,66.361z M69.008,65.945c-9.152,0-16.57-7.735-16.57-17.279c0-9.542,7.418-17.278,16.57-17.278 c9.15,0,16.57,7.736,16.57,17.278C85.578,58.21,78.158,65.945,69.008,65.945z"})})})},S=function(){return Object(a.jsx)("svg",{viewBox:"0 0 24 24",children:Object(a.jsx)("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})})},I=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"m17.903 1.75c-3.349 0-6.081 2.696-6.107 6.02l-3.803 5.427c-1.061-.096-1.976.123-2.785.614l-5.208-2.097v5.727l3.08 1.233c.445 2.039 2.278 3.576 4.447 3.576 2.358 0 4.312-1.803 4.527-4.099l5.855-4.259c3.359 0 6.091-2.711 6.091-6.073l-.001-.001c0-3.346-2.732-6.068-6.096-6.068zm-13.334 17.521c.546.208 1.098.437 1.645.651 1.367.56 2.92-.107 3.466-1.468.552-1.361-.118-2.897-1.483-3.442l-1.393-.56c2.074-.46 4.071 1.094 4.072 3.255-.001 1.852-4.678 4.608-6.307 1.564zm13.34-7.385c-2.261 0-4.098-1.815-4.098-4.067 0-2.242 1.832-4.067 4.098-4.067 2.245 0 4.082 1.825 4.082 4.067 0 2.258-1.838 4.073-4.082 4.067z"}),Object(a.jsx)("path",{d:"m17.92 4.556c-1.805 0-3.267 1.457-3.267 3.255s1.457 3.255 3.267 3.255c1.794 0 3.267-1.452 3.267-3.255s-1.473-3.255-3.267-3.255z"})]})},z=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M512,97.248c-19.04,8.352-39.328,13.888-60.48,16.576c21.76-12.992,38.368-33.408,46.176-58.016 c-20.288,12.096-42.688,20.64-66.56,25.408C411.872,60.704,384.416,48,354.464,48c-58.112,0-104.896,47.168-104.896,104.992 c0,8.32,0.704,16.32,2.432,23.936c-87.264-4.256-164.48-46.08-216.352-109.792c-9.056,15.712-14.368,33.696-14.368,53.056 c0,36.352,18.72,68.576,46.624,87.232c-16.864-0.32-33.408-5.216-47.424-12.928c0,0.32,0,0.736,0,1.152 c0,51.008,36.384,93.376,84.096,103.136c-8.544,2.336-17.856,3.456-27.52,3.456c-6.72,0-13.504-0.384-19.872-1.792 c13.6,41.568,52.192,72.128,98.08,73.12c-35.712,27.936-81.056,44.768-130.144,44.768c-8.608,0-16.864-0.384-25.12-1.44 C46.496,446.88,101.6,464,161.024,464c193.152,0,298.752-160,298.752-298.688c0-4.64-0.16-9.12-0.384-13.568 C480.224,136.96,497.728,118.496,512,97.248z"})})})})},E=function(){return Object(a.jsxs)("svg",{viewBox:"0 0 511 511.9",xmlns:"http://www.w3.org/2000/svg",children:[Object(a.jsx)("path",{d:"m510.949219 150.5c-1.199219-27.199219-5.597657-45.898438-11.898438-62.101562-6.5-17.199219-16.5-32.597657-29.601562-45.398438-12.800781-13-28.300781-23.101562-45.300781-29.5-16.296876-6.300781-34.898438-10.699219-62.097657-11.898438-27.402343-1.300781-36.101562-1.601562-105.601562-1.601562s-78.199219.300781-105.5 1.5c-27.199219 1.199219-45.898438 5.601562-62.097657 11.898438-17.203124 6.5-32.601562 16.5-45.402343 29.601562-13 12.800781-23.097657 28.300781-29.5 45.300781-6.300781 16.300781-10.699219 34.898438-11.898438 62.097657-1.300781 27.402343-1.601562 36.101562-1.601562 105.601562s.300781 78.199219 1.5 105.5c1.199219 27.199219 5.601562 45.898438 11.902343 62.101562 6.5 17.199219 16.597657 32.597657 29.597657 45.398438 12.800781 13 28.300781 23.101562 45.300781 29.5 16.300781 6.300781 34.898438 10.699219 62.101562 11.898438 27.296876 1.203124 36 1.5 105.5 1.5s78.199219-.296876 105.5-1.5c27.199219-1.199219 45.898438-5.597657 62.097657-11.898438 34.402343-13.300781 61.601562-40.5 74.902343-74.898438 6.296876-16.300781 10.699219-34.902343 11.898438-62.101562 1.199219-27.300781 1.5-36 1.5-105.5s-.101562-78.199219-1.300781-105.5zm-46.097657 209c-1.101562 25-5.300781 38.5-8.800781 47.5-8.601562 22.300781-26.300781 40-48.601562 48.601562-9 3.5-22.597657 7.699219-47.5 8.796876-27 1.203124-35.097657 1.5-103.398438 1.5s-76.5-.296876-103.402343-1.5c-25-1.097657-38.5-5.296876-47.5-8.796876-11.097657-4.101562-21.199219-10.601562-29.398438-19.101562-8.5-8.300781-15-18.300781-19.101562-29.398438-3.5-9-7.699219-22.601562-8.796876-47.5-1.203124-27-1.5-35.101562-1.5-103.402343s.296876-76.5 1.5-103.398438c1.097657-25 5.296876-38.5 8.796876-47.5 4.101562-11.101562 10.601562-21.199219 19.203124-29.402343 8.296876-8.5 18.296876-15 29.398438-19.097657 9-3.5 22.601562-7.699219 47.5-8.800781 27-1.199219 35.101562-1.5 103.398438-1.5 68.402343 0 76.5.300781 103.402343 1.5 25 1.101562 38.5 5.300781 47.5 8.800781 11.097657 4.097657 21.199219 10.597657 29.398438 19.097657 8.5 8.300781 15 18.300781 19.101562 29.402343 3.5 9 7.699219 22.597657 8.800781 47.5 1.199219 27 1.5 35.097657 1.5 103.398438s-.300781 76.300781-1.5 103.300781zm0 0"}),Object(a.jsx)("path",{d:"m256.449219 124.5c-72.597657 0-131.5 58.898438-131.5 131.5s58.902343 131.5 131.5 131.5c72.601562 0 131.5-58.898438 131.5-131.5s-58.898438-131.5-131.5-131.5zm0 216.800781c-47.097657 0-85.300781-38.199219-85.300781-85.300781s38.203124-85.300781 85.300781-85.300781c47.101562 0 85.300781 38.199219 85.300781 85.300781s-38.199219 85.300781-85.300781 85.300781zm0 0"}),Object(a.jsx)("path",{d:"m423.851562 119.300781c0 16.953125-13.746093 30.699219-30.703124 30.699219-16.953126 0-30.699219-13.746094-30.699219-30.699219 0-16.957031 13.746093-30.699219 30.699219-30.699219 16.957031 0 30.703124 13.742188 30.703124 30.699219zm0 0"})]})},F=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 479.447 479.447",children:Object(a.jsx)("g",{children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M239.446,0.022c-8.594,0-17.182,0.462-25.727,1.383c-7.832,0.8-15.568,2.112-23.2,3.704 c-1.477,0.309-2.955,0.635-4.432,0.976C141.12,16.323,100.06,39.314,67.831,72.301c-2.997,3.072-5.931,6.235-8.8,9.488 c-87.06,99.948-76.612,251.548,23.337,338.608c95.688,83.349,239.723,77.803,328.719-12.656c3.003-3.072,5.936-6.235,8.8-9.488 c38.421-43.754,59.594-100.003,59.56-158.232C479.447,107.472,371.995,0.021,239.446,0.022z M78.495,84.301 c1.264-1.312,2.576-2.568,3.864-3.84c1.488-1.464,2.968-2.936,4.488-4.352c1.336-1.248,2.712-2.448,4.08-3.664 c1.544-1.368,3.08-2.736,4.664-4.056c1.392-1.176,2.824-2.304,4.248-3.44c1.6-1.28,3.2-2.56,4.848-3.792 c1.456-1.096,2.936-2.16,4.424-3.2c1.656-1.184,3.32-2.4,5.008-3.504c1.512-1.024,3.04-2.016,4.576-3 c1.712-1.096,3.432-2.176,5.168-3.2c1.563-0.933,3.136-1.851,4.72-2.752c1.771-1.008,3.549-1.992,5.336-2.952 c1.6-0.853,3.2-1.688,4.8-2.504c1.824-0.92,3.664-1.808,5.512-2.68c1.6-0.76,3.264-1.52,4.912-2.24c1.88-0.8,3.784-1.6,5.688-2.4 c1.656-0.68,3.304-1.344,4.976-1.984c1.936-0.736,3.896-1.424,5.856-2.112c1.672-0.584,3.344-1.168,5.04-1.72 c1.992-0.64,4-1.232,6.016-1.816c1.688-0.488,3.36-0.992,5.056-1.448c0.648-0.168,1.296-0.304,1.944-0.472 c-23.68,22.993-41.253,51.529-51.128,83.024c-18.988-5.008-37.37-12.082-54.816-21.096C78.039,84.821,78.263,84.541,78.495,84.301 z M66.991,97.181c19.217,10.412,39.595,18.522,60.712,24.16c-10.352,35.996-15.786,73.227-16.152,110.68h-95.92 C17.374,182.632,35.435,135.214,66.991,97.181z M66.991,382.861c-31.554-38.034-49.615-85.452-51.36-134.84h95.92 c0.366,37.453,5.799,74.684,16.152,110.68C106.587,364.341,86.209,372.45,66.991,382.861z M181.727,456.429 c-1.616-0.408-3.288-0.936-4.952-1.424c-2.024-0.592-4.056-1.184-6.056-1.832c-1.688-0.544-3.352-1.128-5.016-1.712 c-1.968-0.68-3.936-1.376-5.88-2.12c-1.664-0.632-3.304-1.296-4.952-1.968c-1.912-0.8-3.824-1.6-5.72-2.4 c-1.632-0.72-3.256-1.461-4.872-2.224c-1.864-0.88-3.72-1.776-5.6-2.704c-1.6-0.8-3.2-1.6-4.8-2.472 c-1.808-0.968-3.6-1.96-5.392-2.984c-1.6-0.888-3.12-1.8-4.664-2.728c-1.76-1.056-3.488-2.144-5.216-3.256 c-1.52-0.968-3.04-1.952-4.536-2.96c-1.704-1.152-3.392-2.352-5.064-3.552c-1.464-1.048-2.928-2.096-4.368-3.2 c-1.656-1.248-3.28-2.536-4.896-3.832c-1.416-1.128-2.824-2.248-4.208-3.408c-1.6-1.328-3.144-2.712-4.696-4.088 c-1.36-1.208-2.728-2.4-4.056-3.632c-1.528-1.424-3.008-2.904-4.496-4.368c-1.288-1.272-2.6-2.528-3.864-3.832 c-0.232-0.248-0.456-0.504-0.688-0.744c17.445-9.018,35.827-16.095,54.816-21.104c9.877,31.494,27.449,60.029,51.128,83.024 C183.031,456.741,182.375,456.605,181.727,456.429z M231.447,463.389c-34.232-4.864-64.24-40.592-83.12-93.352 c27.296-6.112,55.151-9.391,83.12-9.784V463.389z M231.447,344.253c-29.67,0.39-59.215,3.914-88.144,10.512 c-10.045-34.707-15.344-70.615-15.752-106.744h103.896V344.253z M231.447,232.021H127.551 c0.407-36.129,5.706-72.037,15.752-106.744c28.929,6.597,58.475,10.121,88.144,10.512V232.021z M231.447,119.789 c-27.97-0.39-55.824-3.669-83.12-9.784c18.88-52.76,48.888-88.488,83.12-93.352V119.789z M411.903,97.181 c31.554,38.034,49.615,85.452,51.36,134.84h-95.92c-0.366-37.453-5.799-74.684-16.152-110.68 C372.307,115.7,392.685,107.591,411.903,97.181z M297.103,23.605c1.68,0.416,3.352,0.944,5.016,1.432 c2.024,0.592,4.056,1.184,6.056,1.832c1.688,0.544,3.352,1.128,5.016,1.712c1.968,0.68,3.936,1.376,5.88,2.12 c1.664,0.632,3.304,1.296,4.952,1.968c1.912,0.8,3.824,1.6,5.72,2.4c1.632,0.72,3.256,1.461,4.872,2.224 c1.864,0.88,3.72,1.776,5.6,2.704c1.6,0.8,3.2,1.6,4.8,2.472c1.808,0.968,3.6,1.96,5.392,2.984c1.6,0.888,3.12,1.8,4.664,2.728 c1.76,1.056,3.488,2.144,5.216,3.256c1.52,0.968,3.04,1.952,4.536,2.96c1.704,1.152,3.384,2.344,5.056,3.544 c1.472,1.048,2.936,2.104,4.384,3.2c1.648,1.24,3.264,2.528,4.888,3.824c1.408,1.12,2.824,2.24,4.208,3.408 c1.6,1.328,3.144,2.712,4.696,4.088c1.36,1.208,2.728,2.4,4.056,3.632c1.528,1.424,3.008,2.904,4.496,4.368 c1.288,1.272,2.6,2.528,3.864,3.832c0.232,0.248,0.456,0.504,0.688,0.744c-17.445,9.018-35.827,16.095-54.816,21.104 c-9.896-31.498-27.491-60.031-51.192-83.016C295.799,23.293,296.455,23.429,297.103,23.605z M247.447,16.653 c34.232,4.864,64.24,40.592,83.12,93.352c-27.296,6.112-55.151,9.391-83.12,9.784V16.653z M247.447,135.789 c29.67-0.39,59.215-3.914,88.144-10.512c10.045,34.707,15.344,70.615,15.752,106.744H247.447V135.789z M247.447,248.021h103.896 c-0.407,36.129-5.706,72.037-15.752,106.744h0c-28.929-6.597-58.474-10.121-88.144-10.512V248.021z M247.447,463.389V360.253 c27.97,0.39,55.824,3.669,83.12,9.784C311.687,422.797,281.679,458.525,247.447,463.389z M400.399,395.741 c-1.264,1.304-2.568,2.56-3.856,3.832c-1.488,1.464-2.976,2.944-4.504,4.368c-1.328,1.24-2.696,2.4-4.056,3.64 c-1.552,1.376-3.096,2.752-4.68,4.08c-1.4,1.168-2.824,2.296-4.248,3.432c-1.6,1.28-3.2,2.56-4.848,3.792 c-1.456,1.096-2.936,2.16-4.424,3.2c-1.656,1.184-3.32,2.4-5.008,3.504c-1.512,1.024-3.04,2.016-4.576,2.992 c-1.712,1.104-3.437,2.171-5.176,3.2c-1.6,0.936-3.128,1.848-4.704,2.752c-1.771,1.008-3.552,1.992-5.344,2.952 c-1.6,0.853-3.2,1.688-4.8,2.504c-1.824,0.92-3.664,1.808-5.512,2.68c-1.6,0.76-3.264,1.52-4.912,2.24 c-1.88,0.8-3.784,1.6-5.688,2.4c-1.656,0.672-3.304,1.344-4.968,1.976c-1.952,0.744-3.912,1.44-5.88,2.12 c-1.664,0.584-3.328,1.168-5.016,1.712c-2,0.648-4,1.24-6.04,1.824c-1.672,0.496-3.352,0.992-5.04,1.448 c-0.648,0.168-1.296,0.304-1.944,0.472c23.68-22.993,41.253-51.529,51.128-83.024c18.988,5.008,37.37,12.082,54.816,21.096 C400.855,395.221,400.631,395.501,400.399,395.741z M411.903,382.861c-19.217-10.412-39.595-18.522-60.712-24.16 c10.352-35.996,15.786-73.227,16.152-110.68h95.92C461.521,297.409,443.459,344.828,411.903,382.861z"})})})})},M=function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 476.213 476.213",children:Object(a.jsx)("polygon",{points:"345.606,107.5 324.394,128.713 418.787,223.107 0,223.107 0,253.107 418.787,253.107 324.394,347.5  345.606,368.713 476.213,238.106 "})})},T=Object(i.createContext)({show:!1,component:null,className:"",withClose:!0}),D=Object(i.createContext)({imageData:[],authorData:[],searchData:{}}),L=function(e){var t=e.show,n=e.className,c=e.component,r=e.onClose,s=t?"is-visible":void 0,l=Object(i.useContext)(T),u=l.modal,h=l.setModal,d=o.a.useCallback((function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?document.exitFullscreen():r?r():h({className:"",component:null,show:!1})}),[r,h]);return Object(a.jsxs)("div",{className:O()("framed-modal",n,s),children:[Object(a.jsx)("div",{className:"framed-modal-overlay",onClick:d,children:Object(a.jsx)("div",{className:"framed-modal-content",onClick:function(e){e.stopPropagation()},children:c})}),u.withClose&&Object(a.jsx)("button",{className:"close",onClick:d,children:Object(a.jsx)(k,{})})]})},B={minDate:new Date("2019-02-17"),maxDate:new Date,numberHelpers:[{label:"greater than",hint:">=",operator:">"},{label:"less than",hint:"<=",operator:"<"}],searchOptions:[{label:"author",property:"author",hint:"user name",type:"string",helperText:":",entries:[],helpers:!0},{label:"title",property:"game",hint:"game title",type:"string",helperText:":",entries:[],helpers:!0},{label:"before",property:"epochtime",hint:"specific date",type:"number",helperText:":",operator:"<",helpers:!1},{label:"after",property:"epochtime",hint:"specific date",type:"number",helperText:":",operator:">",helpers:!1},{label:"width",property:"width",hint:"pixels wide",helperText:":",type:"number",helpers:!0,range:[]},{label:"height",property:"height",hint:"pixels tall",helperText:":",type:"number",helpers:!0,range:[]},{label:"score",property:"score",hint:"number of reactions",helperText:":",type:"number",helpers:!0,range:[]}]},P=function(e,t){return e.getBoundingClientRect().bottom-t<=window.innerHeight},A=820,R=function(){if("undefined"!==typeof document.fullscreenElement)return"fullscreenElement";if("undefined"!==typeof document.mozFullScreenElement)return"mozFullScreenElement";if("undefined"!==typeof document.msFullscreenElement)return"msFullscreenElement";if("undefined"!==typeof document.webkitFullscreenElement)return"webkitFullscreenElement";throw new Error("fullscreenElement is not supported by this browser")},V=function(e,t){var n=t.sort((function(t,n){return t[e]>n[e]?1:n[e]>t[e]?-1:0}));return[n[0][e],n[t.length-1][e]]},H=function(e){var t,n=B,c=n.searchOptions.filter((function(e){return e.hasOwnProperty("entries")})),r=Object(m.a)(e);try{for(r.s();!(t=r.n()).done;){var a,s=t.value,i=Object(m.a)(c);try{for(i.s();!(a=i.n()).done;){var o=a.value,l=o.property,u=o.entries;u.includes(s[l])||u.push(s[l])}}catch(p){i.e(p)}finally{i.f()}}}catch(p){r.e(p)}finally{r.f()}var h,d=Object(m.a)(n.searchOptions);try{for(d.s();!(h=d.n()).done;){var j=h.value;j.hasOwnProperty("range")&&(j.range=V(j.property,e))}}catch(p){d.e(p)}finally{d.f()}var b,f=Object(m.a)(c);try{for(f.s();!(b=f.n()).done;){b.value.entries.sort()}}catch(p){f.e(p)}finally{f.f()}return n},W=function(e){var t=B.searchOptions.findIndex((function(t){return t.label===e}));return!!(t>-1)&&B.searchOptions[t].property},U=function(e){return B.searchOptions.filter((function(t){return t.type===e})).map((function(e){return e.property}))},q=function(){var e=document.documentElement.clientWidth||document.body.clientWidth,t=Object(i.useState)(e),n=Object(f.a)(t,2),c=n[0],r=n[1],a=function(){var e=document.documentElement.clientWidth||document.body.clientWidth;r(e)};return Object(i.useEffect)((function(){var e;window.setTimeout(a,1e3);var t=function(){var t=document.documentElement.clientWidth||document.body.clientWidth;clearTimeout(e),e=setTimeout((function(){return r(t)}),50)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),{width:c}},G=function(e,t){Object(i.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e,t])},J=function(e){var t=e.className,n=e.images,c=e.rowTargetHeight,r=void 0===c?400:c,s=e.borderOffset,i=void 0===s?5:s,o=e.onClick,l=q().width-2*i,u=function(e,t){t=t||1;var n=e.height-t;return e.width=e.width*(n/e.height),e.height=n,e},h=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].width;return t+=(e.length-1)*i},d=function(){for(var e=0,t=0,c=0,a=[],s=function(){for(var e=[],t=0;t<n.length;t++){var c=parseInt(n[t].width),a=parseInt(n[t].height);c*=r/a;var s={id:n[t].id,author:n[t].author,authorid:n[t].authorid,authorsAvatarUrl:n[t].authorsAvatarUrl,epochtime:n[t].epochtime,game:n[t].game,score:n[t].score,shotUrl:n[t].shotUrl,spoiler:n[t].spoiler,thumbnailUrl:n[t].thumbnailUrl,width:c,height:r};e.push(s)}return e}();s[c];)t>=l&&(e++,t=0),a[e]||(a[e]=[]),a[e].push(s[c]),t+=s[c].width,c++;return a},j=function(e){for(var t=0;t<e.length;t++)(n=e[t]).width=parseInt(n.width),n.height=parseInt(n.height);var n;return e},b=function(e){for(;h(e)>l;)for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e};return function(){for(var e=d(),n=0;n<e.length;n++){e[n]=b(e[n]),e[n]=j(e[n]);var c=l-h(e[n]),r=e[n].length;if(r>1&&c<10){for(var s=c/r,u=0;u<e[n].length;u++)e[n][u].width+=s;e[n]=j(e[n]),e[n][e[n].length-1].width+=l-h(e[n])}}return function(e){return Object(a.jsx)("div",{className:t,style:{paddingLeft:i,paddingTop:50+i},children:e.map((function(e,t){return Object(a.jsx)("div",{className:"image-row",children:e.map((function(e,t){return Object(a.jsxs)("div",{className:"thumbnail-container",style:{marginRight:i,marginBottom:i},children:[Object(a.jsx)("img",{alt:e.gameName,src:e.thumbnailUrl,style:{width:Math.ceil(e.width),height:e.height,cursor:"pointer"},onClick:function(){return o(e)}},t),e.spoiler&&Object(a.jsx)("div",{className:"spoiler",onClick:function(e){e.target.style.display="none"},children:Object(a.jsx)("span",{children:"SPOILER"})}),Object(a.jsxs)("div",{className:"image-info",children:[Object(a.jsx)("span",{className:"by",children:"by"})," ",Object(a.jsx)("span",{className:"author",children:e.author})]})]},"thumbnail-container-".concat(e.id))}))},t)}))})}(e)}()},_=function(){return Object(a.jsxs)("div",{className:"about-modal-content",children:[Object(a.jsx)("h2",{children:"About the Hall of Framed"}),Object(a.jsxs)("div",{className:"about-modal-columns",children:[Object(a.jsxs)("section",{children:[Object(a.jsxs)("p",{children:["The ",Object(a.jsx)("a",{href:"https://framedsc.github.io/",children:"Framed Screenshot Community"})," Discord server started in 2019 as a place to discuss and collaborate in the space of video game screenshots. It has since become so full of incredible shots that we\u2019ve run out of room to highlight them all. To fix that we created a Discord bot that curates the most popular shots within the server, displaying them within a dedicated channel that filters to this site. Posted shots can be voted on in the Discord server. Our clever bot will publish entries into the Hall of Framed based on popularity, which has allowed us to put the power to curate the best shots into the hands of our community, helping to showcase the depth and variety of creativity within this space."]}),Object(a.jsx)("p",{children:"We hope that this can serve as a showcase for what talented screenshotters can achieve. Maybe you'll find it useful as inspiration, or as a nice source of background images for your PC or phone."})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Gallery Controls"}),Object(a.jsx)("p",{children:"This gallery can be navigated with both mouse and keyboard shortcuts. You can use the left & right arrow keys to cycle between shots, while the F key will open the currently selected image in fullscreen and the ESC key can be used to close the viewer. If you\u2019re browsing on a mobile or touch device, you can also use swipe motions to navigate the images."})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Copyright and usage"}),Object(a.jsx)("p",{children:"All shots on this site are \xa9 the rightful owner of the work. Shots on this site are strictly for personal use only. It's not allowed to use the shots in commercial or other non-personal contexts without the written approval of the copyright owner."})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Search options"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"You can simply type in the box to search, or you can specify the term you wish to search for. Each search you enter will be added as a separate filter, allowing you to narrow the results further. As you type, a window will show you the possible types of data you can search for and will guide you along if you click them. Filters can be removed by clicking them in the window. Examples:"}),Object(a.jsxs)("ol",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"cyberpunk"}),Object(a.jsx)("span",{children:' : searches all data for the text "cyberpunk"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"title: Cyberpunk"}),Object(a.jsx)("span",{children:' : finds shots from the game "Cyberpunk"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"author: Dread"}),Object(a.jsx)("span",{children:' : finds all shots by "Dread"'})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"before: 2021-03-18"}),Object(a.jsx)("span",{children:" : finds shots posted before March 18th, 2021"})]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("code",{children:"after: 2020-11-05"}),Object(a.jsx)("span",{children:" : finds shots posted after November 5th, 2020"})]}),Object(a.jsxs)("li",{children:[Object(a.jsxs)("code",{children:["width:"," > ","3840"]}),Object(a.jsx)("span",{children:" : finds shots with a width greater than or equal 3840"})]}),Object(a.jsxs)("li",{children:[Object(a.jsxs)("code",{children:["height:"," < ","2160"]}),Object(a.jsx)("span",{children:" : finds shots with a height smaller than or equal to 2160"})]})]}),Object(a.jsx)("br",{})]})]}),Object(a.jsxs)("section",{children:[Object(a.jsx)("h4",{children:"Contact"}),Object(a.jsx)("p",{children:"For general inquiries, or if you want to get an invite to the Discord server you can contact either Jim2Point0 or Otis_Inf via the below links"}),Object(a.jsxs)("p",{children:["Tweet @Jim2Point0 on ",Object(a.jsx)("a",{href:"https://twitter.com/jim2point0",children:"Twitter"})]}),Object(a.jsxs)("p",{children:["Tweet @FransBouma on ",Object(a.jsx)("a",{href:"https://twitter.com/FransBouma",children:"Twitter"}),Object(a.jsx)("br",{}),"Or contact him through his ",Object(a.jsx)("a",{href:"https://fransbouma.com/contact",children:"Website"})]})]})]})]})},Y=n(37),X=n.n(Y),Z=n(38),K=n(39),Q=n(43),$=n(42),ee=function(e){Object(Q.a)(n,e);var t=Object($.a)(n);function n(e){var c;return Object(Z.a)(this,n),(c=t.call(this,e)).state={startAnimate:!1},c}return Object(K.a)(n,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(function(){this.setState({startAnimate:!0})}.bind(this),1)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,c=e.text,r=!!this.state.startAnimate&&"normal";return Object(a.jsxs)("button",{className:O()(t,r),onClick:n,children:[Object(a.jsx)("span",{class:"filter-text",children:c}),Object(a.jsx)("span",{class:"cancel-button",children:Object(a.jsx)(k,{})})]},"filter-".concat(c))}}]),n}(i.PureComponent),te=function(e){var t=e.handleSearchFocus,n=e.handleSearchBlur,c=e.updateFilters,r=e.updateSearch,s=e.focused,l=e.searchText,u=e.filters,h=e.searchData,d=e.isMobile,j=",",b=Object(i.useCallback)((function(e,t){var n=e.indexOf(j),c=t.slice();if(n>-1){var r=e.substring(0,n),a=e.substring(n+1,e.length);return c.push(r),b(a,c)}return{text:e,newFilters:c}}),[]),f=Object(i.useCallback)((function(e){var t=b(e,[]),n=t.text,a=t.newFilters;r(n.trimStart()),a.length&&c(u.concat(a))}),[u,b,c,r]),m=o.a.useCallback((function(e){var t=e.key;if(!s)return!1;switch(t){case"Enter":return f("".concat(l).concat(j));default:return!1}}),[s,f,l]),p=function(){var e=l.indexOf(":");return l.substr(0,e)},g=function(e){var t,n=e.toISOString(),c=n.substr(0,n.indexOf("T")),r=p();null===C||void 0===C||null===(t=C.current)||void 0===t||t.focus(),f("".concat(r,": ").concat(c).concat(j))},x=function(e){var t=l.indexOf(":"),n=l.substr(0,t),c=l.substr(t+1,l.length).toLowerCase().trimStart();if(!c.length>0)return Object(a.jsx)("div",{children:"Type to narrow list..."});var r=e.filter((function(e){return e.toLowerCase().includes(c)})).slice(0,10);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"search-header",children:[n," possibilities:"]}),r.map((function(e,t){return Object(a.jsx)("div",{className:O()("search-option"),onClick:function(){return function(e){var t,n=p();null===C||void 0===C||null===(t=C.current)||void 0===t||t.focus(),f("".concat(n,": ").concat(e).concat(j))}(e)},children:Object(a.jsx)("span",{className:"result",children:e})},"search-helper".concat(t))}))]})},v=l.length>0?"active":void 0,w=!!s&&"focused",y=Object(i.useRef)(null),C=Object(i.useRef)(null),N=u.length>1?"filters":"filter",S=u.length>0?" (".concat(u.length," ").concat(N," active)"):"";return G(y,(function(){d||n()})),o.a.useEffect((function(){return window.addEventListener("keyup",m),d&&u.length>0&&!l&&r(u),function(){window.removeEventListener("keyup",m)}}),[m,u,r,d,l]),Object(a.jsxs)("div",{className:O()("search",v,w),ref:y,children:[Object(a.jsx)("input",{type:"search",name:"search",className:"search-input",value:l,onChange:function(e){var t=e.target.value;if(d){var n=t.split(j).map((function(e){return e.trimStart()}));r(t),c(n)}else f(t)},placeholder:"Search".concat(S),autoComplete:"off",onFocus:function(){if(!d){var e=l;r(""),r(e),t()}},ref:C}),s&&Object(a.jsx)("button",{className:"cancel",onClick:function(){r("")},children:Object(a.jsx)(k,{})}),!d&&Object(a.jsxs)("div",{className:"search-filters",children:[s&&Object(a.jsxs)("div",{className:"filter-options",children:[!l.includes(":")&&function(){var e=h.searchOptions.filter((function(e){return!l.length||e.label.includes(l)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"search-header",children:"Search Options:"}),e.map((function(e){return Object(a.jsxs)("div",{className:"search-option",onClick:function(){return function(e){var t;null===C||void 0===C||null===(t=C.current)||void 0===t||t.focus(),r("".concat(e.label).concat(e.helperText))}(e)},children:[Object(a.jsxs)("span",{children:[e.label,":"]}),Object(a.jsx)("span",{className:"search-hint",children:" ".concat(e.hint)})]},"searchoption-".concat(e.label))}))]})}(),l.includes(":")&&function(){var e,t=l.indexOf(":"),n=l.substr(0,t),c=W(n);if(!c)return Object(a.jsx)("div",{className:"search-header",children:"Text search"});if("epochtime"===c)return function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"search-header",children:["Search ",e,": "," "]}),Object(a.jsx)(X.a,{onChange:g,isOpen:!0,closeCalendar:!1,maxDate:h.maxDate,minDate:h.minDate})]})}(n);var s=h.searchOptions,i=s.findIndex((function(e){return e.label===n})),o=s[i],u=-1===l.indexOf(">")&&-1===l.indexOf("<");if(o.helpers&&(null===(e=o.entries)||void 0===e?void 0:e.length))return x(o.entries);if("number"===o.type&&u)return h.numberHelpers.map((function(e){return Object(a.jsxs)("div",{className:"search-option",onClick:function(){return function(e){var t,n=p();null===C||void 0===C||null===(t=C.current)||void 0===t||t.focus(),r("".concat(n,": ").concat(e.operator))}(e)},children:[Object(a.jsxs)("span",{children:[e.label,":"]}),Object(a.jsx)("span",{className:"search-hint operator",children:e.hint})]},"operator-".concat(e.label))}));if("number"===o.type&&!u){var d=o.range[0],j=o.range[1];return Object(a.jsxs)("div",{className:"range-info",children:[Object(a.jsxs)("p",{children:["Enter number to filter by ",Object(a.jsxs)("span",{children:[o.label,"."]})]}),Object(a.jsx)("span",{children:o.label})," ranges from ",Object(a.jsx)("span",{children:"".concat(d)})," to ",Object(a.jsx)("span",{children:"".concat(j)})]})}return null}()]}),Object(a.jsxs)("div",{className:"current-filters",children:[Object(a.jsx)("span",{className:"search-header",children:"Current filters:"}),u.map((function(e,t){return e.length&&" "!==e?Object(a.jsx)(ee,{className:"search-filter",text:e,onClick:function(){return function(e){var t=u.findIndex((function(t){return t===e})),n=u.slice();n.splice(t,1),c(n)}(e)}},"filter-".concat(t)):null}))]})]})]})},ne=o.a.memo(te),ce=function(e){var t=e.className,n=e.options,c=e.reverseSort,s=e.updateSort,o=e.updateFormat,l=e.onLogoClick,u=e.searchProps,d=Object(i.useState)(n[0]),j=Object(f.a)(d,2),b=j[0],m=j[1],p=Object(i.useState)("All"),y=Object(f.a)(p,2),k=y[0],C=y[1],N=Object(i.useState)(!1),I=Object(f.a)(N,2),z=I[0],E=I[1],F=Object(i.useContext)(T).setModal,M=Object(h.b)(),D=function(){E(!0)},L=function(){E(!1)},B=["All","Wide","Portrait"],P=c?Object(a.jsx)(g,{},"sortup"):Object(a.jsx)(x,{},"sortdown"),R=function(){return Object(a.jsx)(ne,Object(r.a)({handleSearchFocus:D,handleSearchBlur:L,focused:z,isMobile:Z},u))},V=Object(a.jsx)("ul",{className:"filters",children:n.map((function(e,t){var n=b.key===e.key,c=n?"is-active":void 0;return Object(a.jsx)("li",{children:Object(a.jsxs)("button",{id:e.label,className:O()("filter",c),onClick:function(){return m(t=e),void s(t);var t},children:[e.label,n&&P]},e.label)},t)}))}),H=function(){var e=!(!z||Z)&&"hidden";return Object(a.jsx)("div",{className:O()("image-types",e),children:B.map((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{id:"".concat(e,"-label"),onChange:function(){return C(t=e),void o(t);var t},checked:k===e,type:"radio",value:e,name:"type"},"".concat(e,"-input")),Object(a.jsx)("label",{htmlFor:"".concat(e,"-label"),children:e},"".concat(e,"-label"))]})}))})},W=Object(a.jsx)("button",{className:"about-icon",onClick:function(){F({show:!0,component:Object(a.jsx)(_,{}),className:"about-window",withClose:!0})},children:Object(a.jsx)(S,{})}),U=Object(i.useState)(!1),J=Object(f.a)(U,2),Y=J[0],X=J[1],Z=q().width<=A,K=Z?"image-nav--mobile":"image-nav--desktop",Q=Object(i.useRef)(null);return G(Q,(function(){X(!1)})),Object(i.useEffect)((function(){Z||X(!1)}),[Z,M]),Object(a.jsxs)("div",{className:"image-nav ".concat(K," ").concat(t),children:[Object(a.jsx)("div",{className:"framed-icon",children:Object(a.jsx)("button",{onClick:function(){C("All"),m(n[0]),l()},type:"button",children:Object(a.jsx)(v,{})})}),!Z&&Object(a.jsxs)(a.Fragment,{children:[V,H(),R(),W]}),Z&&function(){var e=!!Y&&"show";return Object(a.jsxs)("div",{className:O()("mobile-menu",e),ref:Q,children:[Object(a.jsx)("button",{className:"menu-button",onClick:function(){return X((function(e){return!e}))},children:Object(a.jsx)(w,{})}),Y&&Object(a.jsx)("div",{className:"mobile-menu-content-mask",children:Object(a.jsxs)("div",{className:"mobile-menu-content",children:[R(),V,H()]})}),W]})}()]})},re=o.a.memo(ce),ae=n(41),se=function(e){var t=e.data,n=void 0===t?null:t;if(!n)return null;for(var c=function(e){return Object(a.jsx)(a.Fragment,{children:e.map((function(e,t){var n=e.label?e.label:function(e){if(!e.indexOf("//"))return e;var t=e.indexOf("//")+2,n=e.slice(t);if(n.indexOf("/")<0)return n;var c=n.indexOf("/");return n.slice(0,c)}(e.link);return Object(a.jsx)("li",{className:"author-link",children:Object(a.jsx)("a",{className:"social-link",rel:"noreferrer",target:"_blank",href:e.link,title:e.link,onClick:function(e){return e.stopPropagation()},children:Object(a.jsx)("span",{children:n})},"social-link-".concat(t))},"social-button-".concat(t))}))})},r=[],s=[],i=0,o=[{key:"twitter",icon:Object(a.jsx)(z,{}),label:"Twitter"},{key:"steam",icon:Object(a.jsx)(I,{}),label:"Steam"},{key:"flickr",icon:Object(a.jsx)(N,{}),label:"Flickr"},{key:"instagram",icon:Object(a.jsx)(E,{}),label:"Instagram"}];i<o.length;i++){var l=o[i];n[l.key].length&&r.push({label:l.label,key:l.key,icon:l.icon,link:n[l.key]})}for(var u=0;u<n.othersocials.length;u++)s.push({key:"other",icon:Object(a.jsx)(F,{}),link:n.othersocials[u]});return r.length||s.length?Object(a.jsxs)("ul",{className:"author-links-list",children:[r.length>0&&c(r),s.length>0&&c(s)]}):Object(a.jsx)("p",{className:"author-links-list",children:"This author has not listed their socials on Framed"})},ie=function(e){var t=e.show,n=void 0!==t&&t,c=e.className,r=e.modifier,s=void 0===r?"":r,i="framed-spinner",o=Object(a.jsxs)("div",{className:"".concat(i,"-svg-wrapper"),children:[Object(a.jsx)("svg",{className:"".concat(i,"-svg-back"),viewBox:"0 0 200 200",children:Object(a.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})}),Object(a.jsx)("svg",{className:"".concat(i,"-svg-segment"),viewBox:"0 0 200 200",children:Object(a.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none"})})]}),l=Object(a.jsx)("div",{className:O()(i,"".concat(i,"--").concat(s),c),children:o});return n?function(){var e=!!s&&"global";return Object(a.jsx)("div",{className:"".concat(i,"-container ").concat(e),children:l})}():null},oe={initialized:!1,loadedState:!1,showImage:!1,authorExpanded:!1},le=function(e,t){switch(t.type){case"initialize":return Object(r.a)(Object(r.a)({},e),{},{initialized:!0});case"close":return Object(r.a)({},oe);case"loadImage":return{initialized:!0,loadedState:!0,showImage:!0};case"changeImage":return Object(r.a)(Object(r.a)({},e),{},{loadedState:!1});case"showGlobalSpinner":return Object(r.a)(Object(r.a)({},e),{},{initialized:!1,showImage:!1});case"expandSocials":return Object(r.a)(Object(r.a)({},e),{},{authorExpanded:!0});case"closeSocials":return Object(r.a)(Object(r.a)({},e),{},{authorExpanded:!1});default:return e}},ue=function(e){var t,n,c,s=e.image,l=void 0===s?{}:s,u=e.show,h=e.onClose,d=e.data,j=e.onPrev,b=e.onNext,m=e.setBgImage,p=Object(i.useReducer)(le,{authorExpanded:!1,initialized:!1,loadedState:!1,showImage:!1}),g=Object(f.a)(p,2),x=g[0],v=x.authorExpanded,w=x.initialized,N=x.loadedState,S=x.showImage,I=g[1],z=Object(i.useContext)(T).modal,E=Object(i.useContext)(D).authorData,F=o.a.useRef(null);try{var L=function(e){var t=Object(i.useState)(null!=document[R()]),n=Object(f.a)(t,2),c=n[0],r=n[1];return Object(i.useLayoutEffect)((function(){return document.onfullscreenchange=function(){return r(null!=document[R()])},function(){return document.onfullscreenchange=void 0}})),[c,function(){null!=e.current&&e.current.requestFullscreen().then((function(){r(null!=document[R()])})).catch((function(){r(!1)}))}]}(F),B=Object(f.a)(L,2);t=B[0],n=B[1]}catch(Q){c="Fullscreen not supported",t=!1,n=void 0}var P=u?"is-visible":void 0,A=0===d.findIndex((function(e){return e.id===(null===l||void 0===l?void 0:l.id)}))||!N,V=d.findIndex((function(e){return e.id===(null===l||void 0===l?void 0:l.id)}))===d.length-1||!N,H=w?"":"global",W=t?"fullscreen":void 0,U=z.show?"blur":void 0,q=S?"loaded":"hidden",G=z.show?"hidden":"visible",J=l&&E.find((function(e){return l.author===e.authorNick})),_=o.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),I({type:"changeImage"}),j()}),[j]),Y=o.a.useCallback((function(e){null===e||void 0===e||e.stopPropagation(),I({type:"changeImage"}),b()}),[b]),X=o.a.useCallback((function(){t?document.exitFullscreen():(I({type:"close"}),h())}),[t,h]),Z=o.a.useCallback((function(e){var r=e.key;if(!u)return!1;switch(r){case"ArrowRight":return!V&&Y(e);case"ArrowLeft":return!A&&_(e);case"Escape":return!t&&!z.show&&X();case"f":return!c&&n();default:return!1}}),[z,t,X,Y,_,V,A,n,c,u]);Object(i.useEffect)((function(){return window.addEventListener("keyup",Z),function(){window.removeEventListener("keyup",Z)}}),[w,Z]);var K=Object(ae.useSwipeable)(Object(r.a)({onSwipedLeft:function(){return!V&&(I({type:"showGlobalSpinner"}),Y())},onSwipedRight:function(){return!A&&(I({type:"showGlobalSpinner"}),_())},onSwiping:function(e){"Right"===e.dir&&!A||"Left"===e.dir&&!V?F.current.style.left="".concat(e.deltaX,"px"):F.current.style.left="0px"},onSwiped:function(){F.current.style.left="0px"}},{delta:10,preventDefaultTouchmoveEvent:!0,trackTouch:!0,trackMouse:!1,rotationAngle:0}));return Object(a.jsxs)("div",{className:O()("image-viewer","framed-modal",P),onClick:X,children:[Object(a.jsxs)("div",{className:O()("viewer-nav",G),children:[Object(a.jsx)("button",{className:"viewer-nav-button left",disabled:A,onClick:_,children:Object(a.jsx)(M,{})}),Object(a.jsx)("button",{className:"viewer-nav-button right",disabled:V,onClick:Y,children:Object(a.jsx)(M,{})})]}),Object(a.jsxs)("div",{ref:F,className:O()("image-viewer-content",W,U),children:[l&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",Object(r.a)({alt:l.game,src:l.shotUrl,onClick:function(e){e.stopPropagation()},onLoad:function(){I({type:"loadImage"}),m(l)},className:q},K)),w&&!t&&Object(a.jsxs)("div",{className:v?"shot-info expanded":"shot-info",onClick:function(e){e.stopPropagation()},children:[Object(a.jsxs)("div",{className:"info clickable",onClick:v?function(){return I({type:"closeSocials"})}:function(){return I({type:"expandSocials"})},children:[Object(a.jsx)("span",{className:"by",children:"by "}),Object(a.jsx)("span",{className:"author",children:l.author}),Object(a.jsx)("span",{className:"title",children:l.game}),Object(a.jsx)(se,{data:J})]}),Object(a.jsx)("div",{className:"image-viewer-controls",children:!t&&!c&&Object(a.jsx)("button",{className:"fullscreen-button",onClick:n,children:Object(a.jsx)(y,{})})})]}),t?Object(a.jsx)("button",{className:"close",onClick:function(){return document.exitFullscreen()},children:Object(a.jsx)(C,{})}):Object(a.jsx)("button",{className:"close",onClick:X,children:Object(a.jsx)(k,{})})]}),Object(a.jsx)(ie,{modifier:H,show:!N})]})]})},he=[{label:"Date",key:"epochtime"},{label:"Popularity",key:"score"}],de=function(e){var t=e.pageSize,n=e.setBgImage,s=e.imageId,l={images:[],sortOption:he[0],format:"all",searchText:"",filters:[],showViewer:!1,viewerSrc:null,isReverse:!1,waiting:!1,page:1},u=Object(i.useReducer)((function(e,t){switch(t.type){case"reset":return Object(r.a)(Object(r.a)({},e),{},{sortOption:he[0],format:"all",filters:[],searchText:"",showViewer:!1,viewerSrc:null,isReverse:!1,page:1});case"loadMoreImages":return Object(r.a)(Object(r.a)({},e),{},{waiting:!0,page:t.page});case"doneWaiting":return Object(r.a)(Object(r.a)({},e),{},{waiting:!1});case"setPage":return Object(r.a)(Object(r.a)({},e),{},{waiting:!0,page:t.page});case"changeFormat":return Object(r.a)(Object(r.a)({},e),{},{page:1,waiting:!0},t);case"close":return Object(r.a)(Object(r.a)({},e),{},{viewerSrc:null,showViewer:!1});case"setSearchText":return Object(r.a)(Object(r.a)({},e),{},{searchText:t.text});case"setSearchFilters":return Object(r.a)(Object(r.a)({},e),{},{filters:t.filters});case"setImages":return Object(r.a)(Object(r.a)({},e),{},{images:t.images});case"selectImage":return Object(r.a)(Object(r.a)({},e),{},{viewerSrc:t.image,showViewer:!0});case"loadImage":return{initialized:!0,loadedState:!0,showImage:!0};case"changeSort":return Object(r.a)(Object(r.a)({},e),{},{page:1,waiting:!0,sortOption:t.sortOption,isReverse:t.isReverse});default:return e}}),Object(r.a)({},l)),d=Object(f.a)(u,2),j=d[0],b=j.images,p=j.sortOption,O=j.format,g=j.filters,x=j.searchText,v=j.showViewer,w=j.viewerSrc,y=j.isReverse,k=j.waiting,C=j.page,N=d[1],S=Object(i.useState)({show:!1,component:null,className:"",withClose:!0}),I=Object(f.a)(S,2),z=I[0],E=I[1],F=Object(i.useContext)(D),M=F.imageData,A=F.searchData,R=C*t<=b.length,V=function(e){var t=Object(i.useState)(!1),n=Object(f.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){var t=function(){var t=document.body;e&&r(P(t,100))};return window.addEventListener("scroll",t,!1),function(){return window.removeEventListener("scroll",t,!1)}}),[e]),!!e&&c}(R),H=Object(h.b)(),q=o.a.useMemo((function(){return{strings:U("string"),numbers:U("number")}}),[]),G=Object(i.useCallback)((function(){var e=M.findIndex((function(e){return e.epochtime===s})),t=M[e];N({type:"selectImage",image:t,showViewer:!0})}),[M,s]),_=function(){Y(),"author-social-content"!==z.className&&N({type:"close"}),E(Object(r.a)(Object(r.a)({},z),{},{className:"",component:null,show:!1}))},Y=function(e){var t=window.location.search,n=new URLSearchParams(t);n.delete("imageId"),e&&n.append("imageId",e),H.push({search:n.toString()})},X=Object(i.useCallback)((function(e,t){var n=e.trimStart();if((null===n||void 0===n?void 0:n.length)<3)return t;var c=n.indexOf(":"),r=n.substring(0,c).toLowerCase(),a=n.substring(c+1).replace(/\s+/g,""),s=W(r),i=s||r;if(q.strings.includes(i))return t.filter((function(e){return(null===a||void 0===a?void 0:a.length)>=3?e[i].replace(/\s+/g,"").toLowerCase().includes(a.toLowerCase()):t}));if(q.numbers.includes(i)){var o=function(e){var t=B.searchOptions.findIndex((function(t){return t.label===e})),n=B.searchOptions[t];return null===n||void 0===n?void 0:n.operator}(r),l=function(e,t){var n=-1!==t.indexOf("<")?t.substr(t.indexOf("<")+1):t.substr(t.indexOf(">")+1);return"epochtime"===e&&(n=+new Date(n)/1e3),parseInt(n,10)}(i,a);return t.filter((function(e){return"<"===o||a.indexOf("<")>-1?e[i]<=l:e[i]>=l}))}return t.filter((function(e){return Object.keys(e).reduce((function(t,c){return t||e[c].toString().toLowerCase().includes(n.toLowerCase())}),!1)}))}),[q]),Z=Object(i.useCallback)((function(e){var t,n=e.slice(),c=Object(m.a)(g);try{for(c.s();!(t=c.n()).done;){var r=t.value;n=X(r,n)}}catch(a){c.e(a)}finally{c.f()}return n}),[X,g]),K=function(){P(document.body,50)&&N({type:"loadMoreImages",page:C+1})},Q=Object(i.useCallback)((function(e){var n=t*C;return n>e.length?e:e.slice(0,n)}),[C,t]),$=Object(i.useCallback)((function(e){var t=e,n=p.key,c=function(e,t){return e[n]<t[n]?1:t[n]<e[n]?-1:0};return y&&(c=function(e,t){return e[n]>t[n]?1:t[n]>e[n]?-1:0}),t=e.sort(c),"Wide"===O?t=t.filter((function(e){return e.width>e.height})):"Portrait"===O&&(t=t.filter((function(e){return e.width<=e.height}))),g.length?Z(t):t}),[y,Z,p,O,g.length]);return Object(i.useEffect)((function(){if(M.length){var e=$(M.slice()),t=Q(e);N({type:"setImages",images:t})}k&&(clearTimeout(c),c=setTimeout((function(){return N({type:"doneWaiting"})}),2e3))}),[M,p,O,y,$,v,Q,k]),Object(i.useEffect)((function(){M.length&&null!==s&&G()}),[M,s,G]),R&&V&&!k&&K(),Object(a.jsx)("div",{className:"home",children:Object(a.jsxs)(T.Provider,{value:{modal:z,setModal:E},children:[Object(a.jsx)(re,{className:v||z.show?"hidden":"",options:he,reverseSort:y,updateSort:function(e){e.key===p.key?N({type:"changeSort",isReverse:!y,sortOption:p}):N({type:"changeSort",isReverse:!1,sortOption:e}),window.scrollTo({top:0})},updateFormat:function(e){N({type:"changeFormat",format:e}),window.scrollTo({top:0,behavior:"smooth"})},onLogoClick:function(){return N({type:"reset"})},searchProps:{searchData:A,updateSearch:function(e){N({type:"setSearchText",text:e})},updateFilters:function(e){var t=e.filter((function(t,n){return e.indexOf(t)===n}));N({type:"setSearchFilters",filters:t})},searchText:x,filters:g}}),M&&Object(a.jsx)(J,{className:"image-rows",images:b,rowTargetHeight:400,onClick:function(e){Y(e.epochtime),N({type:"selectImage",image:e})},borderOffset:7}),g.length>0&&!b.length?Object(a.jsx)("div",{className:"no-search-results",children:"There are no images matching your search criteria"}):null,Object(a.jsx)(ue,{image:w,show:v,onClose:_,data:b,onPrev:function(){var e=b.findIndex((function(e){return e.epochtime===w.epochtime}));e-1>=0&&(Y(b[e-1].epochtime),N({type:"selectImage",image:b[e-1]}))},onNext:function(){var e=b.findIndex((function(e){return e.epochtime===w.epochtime}));e+1<=b.length&&(Y(b[e+1].epochtime),N({type:"selectImage",image:b[e+1]}))},setBgImage:n}),Object(a.jsx)(L,{onClose:_,className:z.className,show:z.show,component:z.component})]})})},je=o.a.memo(de),be=n(71);n(90),n(91),n(92),n(93),n(94),n(95),n(96);function fe(e){var t=[];return Object.entries(e._default).forEach((function(e){var n=e[0],c=e[1];t.push(Object(r.a)({id:n},c))})),t}var me=function(){var e=Object(i.useState)({imageData:[],authorData:[],searchData:{}}),t=Object(f.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(!1),s=Object(f.a)(r,2),o=s[0],l=s[1],u=Object(i.useState)(null),h=Object(f.a)(u,2),d=h[0],m=h[1],p=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}("imageId"),O=p&&parseInt(p),g=Object(i.useCallback)((function(e){if(e){var t=e.thumbnailUrl;d.style.backgroundImage="url('".concat(t,"')")}}),[d]),x=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,r,a,s,i,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,be.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/shotsdb.json"));case 3:return t=e.sent,e.next=6,be.get("".concat("https://raw.githubusercontent.com/originalnicodrgitbot/hall-of-framed-db/main/authorsdb.json"));case 6:for(n=e.sent,r=fe(t.data),a=fe(n.data),s=function(e){r[e].authorid=r[e].author;var t=a.find((function(t){return t.authorid===r[e].authorid})).authorNick;r[e].author=t,r[e].game=r[e].gameName,r[e].epochtime=r[e].epochTime},i=0;i<r.length;i++)s(i);o=H(r),c({imageData:r,authorData:a,searchData:o});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=n.imageData;if(!o&&x(),e.length&&!d&&m(document.querySelector(".bg-blur")),e.length&&d){var t=O?e.findIndex((function(e){return e.epochtime===O})):Math.floor(Math.random()*Math.floor(e.length-1));g(e[t])}}),[d,n,o,g,O]),Object(a.jsx)("div",{className:"image-grid",children:n.imageData.length>0&&n.authorData.length>0&&n.searchData.hasOwnProperty("searchOptions")&&Object(a.jsx)(D.Provider,{value:n,children:Object(a.jsx)(je,{imageId:O,pageSize:200,setBgImage:g})})})},pe=(n(97),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,102)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))}),Oe=Object(s.a)();u.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(h.a,Object(r.a)(Object(r.a)({},{history:Oe}),{},{children:Object(a.jsx)(me,{})}))}),document.getElementById("root")),pe()}},[[99,1,2]]]);
//# sourceMappingURL=main.1ce5c5d2.chunk.js.map